<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>2025-07-24 5 分钟蜡烛图</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <style>
        #main {
            width: 950px;
            height: 520px;
            margin: 40px auto;
        }
    </style>
</head>

<body>
    <div id="main"></div>

    <script>
        /* 1. 2025-07-24 的 5 分钟 K 线数据（已过滤） */
        const raw = [
            { day: "2025-07-24 09:35:00", open: 20.95, high: 21.18, low: 20.90, close: 21.13, volume: 888700 },
            { day: "2025-07-24 09:40:00", open: 21.13, high: 21.16, low: 21.05, close: 21.13, volume: 206800 },
            { day: "2025-07-24 09:45:00", open: 21.12, high: 21.15, low: 21.10, close: 21.10, volume: 165600 },
            { day: "2025-07-24 09:50:00", open: 21.11, high: 21.15, low: 21.10, close: 21.10, volume: 180900 },
            { day: "2025-07-24 09:55:00", open: 21.10, high: 21.16, low: 21.09, close: 21.16, volume: 249100 },
            { day: "2025-07-24 10:00:00", open: 21.16, high: 21.18, low: 21.13, close: 21.17, volume: 229200 },
            { day: "2025-07-24 10:05:00", open: 21.17, high: 21.18, low: 21.11, close: 21.13, volume: 146800 },
            { day: "2025-07-24 10:10:00", open: 21.12, high: 21.13, low: 21.05, close: 21.07, volume: 308600 },
            { day: "2025-07-24 10:15:00", open: 21.07, high: 21.07, low: 20.98, close: 21.03, volume: 396000 },
            { day: "2025-07-24 10:20:00", open: 21.03, high: 21.05, low: 20.98, close: 20.99, volume: 277900 },
            { day: "2025-07-24 10:25:00", open: 20.99, high: 21.01, low: 20.97, close: 20.98, volume: 299700 },
            { day: "2025-07-24 10:30:00", open: 20.98, high: 20.99, low: 20.95, close: 20.98, volume: 308100 },
            { day: "2025-07-24 10:35:00", open: 20.98, high: 20.98, low: 20.91, close: 20.95, volume: 390700 },
            { day: "2025-07-24 10:40:00", open: 20.95, high: 20.99, low: 20.89, close: 20.99, volume: 559300 },
            { day: "2025-07-24 10:45:00", open: 20.99, high: 21.02, low: 20.96, close: 20.98, volume: 153800 },
            { day: "2025-07-24 10:50:00", open: 20.98, high: 21.00, low: 20.96, close: 20.96, volume: 101500 },
            { day: "2025-07-24 10:55:00", open: 20.97, high: 21.00, low: 20.96, close: 20.99, volume: 134147 },
            { day: "2025-07-24 11:00:00", open: 21.00, high: 21.01, low: 20.98, close: 20.99, volume: 62500 },
            { day: "2025-07-24 11:05:00", open: 21.00, high: 21.00, low: 20.97, close: 20.98, volume: 121500 },
            { day: "2025-07-24 11:10:00", open: 20.98, high: 20.98, low: 20.95, close: 20.95, volume: 76000 },
            { day: "2025-07-24 11:15:00", open: 20.95, high: 20.96, low: 20.94, close: 20.95, volume: 61100 },
            { day: "2025-07-24 11:20:00", open: 20.95, high: 20.99, low: 20.95, close: 20.98, volume: 99600 },
            { day: "2025-07-24 11:25:00", open: 20.98, high: 20.98, low: 20.95, close: 20.96, volume: 60900 },
            { day: "2025-07-24 11:30:00", open: 20.95, high: 20.96, low: 20.91, close: 20.91, volume: 148300 },
            { day: "2025-07-24 13:05:00", open: 20.91, high: 20.95, low: 20.90, close: 20.94, volume: 361500 },
            { day: "2025-07-24 13:10:00", open: 20.94, high: 20.98, low: 20.93, close: 20.98, volume: 174900 },
            { day: "2025-07-24 13:15:00", open: 20.98, high: 20.98, low: 20.95, close: 20.96, volume: 98900 },
            { day: "2025-07-24 13:20:00", open: 20.97, high: 20.99, low: 20.97, close: 20.98, volume: 52400 },
            { day: "2025-07-24 13:25:00", open: 20.98, high: 20.98, low: 20.96, close: 20.97, volume: 103000 },
            { day: "2025-07-24 13:30:00", open: 20.97, high: 21.06, low: 20.97, close: 21.04, volume: 252300 },
            { day: "2025-07-24 13:35:00", open: 21.05, high: 21.06, low: 20.99, close: 20.99, volume: 282000 },
            { day: "2025-07-24 13:40:00", open: 20.99, high: 21.02, low: 20.98, close: 21.00, volume: 68300 },
            { day: "2025-07-24 13:45:00", open: 21.00, high: 21.02, low: 20.94, close: 20.94, volume: 257200 },
            { day: "2025-07-24 13:50:00", open: 20.94, high: 20.96, low: 20.86, close: 20.94, volume: 573400 },
            { day: "2025-07-24 13:55:00", open: 20.94, high: 20.95, low: 20.91, close: 20.93, volume: 130200 },
            { day: "2025-07-24 14:00:00", open: 20.93, high: 20.96, low: 20.91, close: 20.91, volume: 177700 },
            { day: "2025-07-24 14:05:00", open: 20.92, high: 20.95, low: 20.92, close: 20.94, volume: 115200 },
            { day: "2025-07-24 14:10:00", open: 20.96, high: 20.97, low: 20.92, close: 20.97, volume: 155800 },
            { day: "2025-07-24 14:15:00", open: 20.97, high: 20.99, low: 20.96, close: 20.97, volume: 97400 },
            { day: "2025-07-24 14:20:00", open: 20.97, high: 20.97, low: 20.94, close: 20.96, volume: 99600 },
            { day: "2025-07-24 14:25:00", open: 20.96, high: 21.00, low: 20.95, close: 21.00, volume: 132200 },
            { day: "2025-07-24 14:30:00", open: 21.00, high: 21.07, low: 21.00, close: 21.04, volume: 216600 },
            { day: "2025-07-24 14:35:00", open: 21.04, high: 21.05, low: 21.02, close: 21.04, volume: 124500 },
            { day: "2025-07-24 14:40:00", open: 21.03, high: 21.03, low: 20.98, close: 21.01, volume: 325300 },
            { day: "2025-07-24 14:45:00", open: 21.02, high: 21.03, low: 20.98, close: 21.01, volume: 381800 },
            { day: "2025-07-24 14:50:00", open: 21.02, high: 21.06, low: 21.02, close: 21.04, volume: 313400 },
            { day: "2025-07-24 14:55:00", open: 21.04, high: 21.09, low: 21.04, close: 21.08, volume: 494755 },
            { day: "2025-07-24 15:00:00", open: 21.08, high: 21.10, low: 21.07, close: 21.10, volume: 414278 }
        ];

        /* 2. 生成 09:30–15:00 的 5 分钟刻度 */
        function generateTradeTicks() {
            const ticks = [];
            let t = new Date('2025-07-24 09:30:00');
            while (t <= new Date('2025-07-24 15:00:00')) {
                ticks.push([t.getTime(), null, null, null, null]); // 空位
                t.setMinutes(t.getMinutes() + 5);
            }
            return ticks;
        }

        /* 3. 把原始数据映射到对应刻度 */
        const tickMap = new Map(raw.map(d => {
            const t = new Date(d.day).getTime();
            return [t, [t, d.open, d.close, d.low, d.high]];
        }));
        const candleData = generateTradeTicks().map(item => {
            const t = item[0];
            return tickMap.get(t) || item;
        });

        /* 4. 绘制 */
        const chart = echarts.init(document.getElementById('main'));
        const option = {
            title: { text: '2025-07-24 5 分钟蜡烛图', left: 'center' },
            tooltip: { trigger: 'axis', axisPointer: { type: 'cross' } },
            grid: { left: 50, right: 50, bottom: 60 },
            xAxis: {
                type: 'time',
                min: new Date('2025-07-24 09:30:00').getTime(),
                max: new Date('2025-07-24 15:00:00').getTime(),
                axisLabel: { formatter: '{HH}:{mm}' },
                splitLine: { show: true }
            },
            yAxis: { scale: true, splitLine: { show: true } },
            series: [{
                name: 'K 线',
                type: 'candlestick',
                data: candleData,
                itemStyle: { color: '#ef232a', color0: '#14b143', borderColor: '#ef232a', borderColor0: '#14b143' }
            }]
        };
        chart.setOption(option);
        window.addEventListener('resize', () => chart.resize());
    </script>
</body>

</html>